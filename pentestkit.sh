#!/bin/bash

GREEN='\033[0;32m'
PURPLE='\033[0;35m'
until [[ $CHOICE == "q" ]]; do
clear
echo -e " ${PURPLE} ---------------------------------------------------- "
echo 		" |     ____             __            __  __ __ _ __  |" 
echo 		" |    / __ \___  ____  / /____  _____/ /_/ //_/(_) /_ |"
echo 		" |   / /_/ / _ \/ __ \/ __/ _ \/ ___/ __/ ,<  / / __/ |"
echo 		" |  / ____/  __/ / / / /_/  __(__  ) /_/ /| |/ / /_   |"
echo 		" | /_/    \___/_/ /_/\__/\___/____/\__/_/ |_/_/\__/   |"
echo 		"  ---------------------------------------------------- "
echo 		""

echo -e		" _____________________________________________________|_._._._._._._._._._."
echo 		" \____________________________________________________|_#_#_#_#_#_#_#_#_#_|"
echo    	"                                              	      |	                    "
echo -e 	" ${GREEN}"
echo 		"  ********************[Main Menu]**********************"
echo		""
echo 		"  ---------------------------------------------------- "
echo 		" |             |                                      |"
echo 		" |      1      |         Recon Module                 |"
echo 		" |             |                                      |"
echo 		"  ---------------------------------------------------- "
echo 		"  ---------------------------------------------------- "
echo 		" |             |                                      |"
echo 		" |      2      |         Enumeration Module           |"
echo 		" |             |                                      |"
echo 		"  ---------------------------------------------------- "
echo 		"  ---------------------------------------------------- "
echo 		" |             |                                      |"
echo		" |      3      |         Wireless Module              |"
echo 		" |             |                                      |"
echo 		"  ---------------------------------------------------- "
echo		""
echo 		"  **************************************************** "
read -p 	"  < Please Choose Which Module To Use > " CHOICE

if [ $CHOICE == 1 ]
then
	until [[ $RCHOICE == "q" ]]; do
	clear
	echo -e " ${PURPLE}---------------------------------------------------- "
	echo -e 	" |     ____                                           |"
	echo -e 	" |    / __ \___  _________  ____                      | "
	echo -e 	" |   / /_/ / _ \/ ___/ __ \/ __ \       ___o |======) |"   
	echo -e 	" |  / _, _/  __/ /__/ /_/ / / / /      /\  \/   /\    |"
	echo -e 	" | /_/ |_|\___/\___/\____/_/ /_/      / /      /  \   |"
	echo -e 	" |                                                    |"
	echo -e 	"  ---------------------------------------------------- "
	echo -e " ${GREEN} ---------------------------------------------------- "
	echo 		" |             |                                      |"
	echo 		" |      1      |            Enter Target              |"
	echo 		" |             |                                      |"
	echo 		"  ---------------------------------------------------- "
	echo 		"  ---------------------------------------------------- "
	echo 		" |             |                                      |"
	echo 		" |      2      |            Basic Scan                |"
	echo 		" |             |                                      |"
	echo 		"  ---------------------------------------------------- "
	echo 		"  ---------------------------------------------------- "
	echo 		" |             |                                      |"
	echo 		" |      3      |            Advanced Scan             |"
	echo 		" |             |                                      |"
	echo 		"  ---------------------------------------------------- "
	echo		""
	echo		"  ***************<  TARGET = $TARGET  >***************"
	echo		""
	echo		"  **************************************************** "
	read -p 	"  < Please Enter Your Choice > " RCHOICE
	
	if [ $RCHOICE == 1 ]
	then
		clear
                echo -e "${PURPLE}  			          ___     "
                echo		"	    		        /\ _ /\   "
		echo		"	    >>>----            / /\ /\ \  "
		echo		"	  >>>----             |---(*)---| "
                echo		"	 		       \ \/_\/ /  "
	        echo		"	 	   >>>----      \/___\/   "
		echo		""
		echo -e	 " ${GREEN}********************************************* "
		read -p 	" < Enter The Target IP Address > " TARGET
		echo $TARGET
	fi

	if [ $RCHOICE == 2 ]
	then
		if ping -c1 $TARGET | grep "64" > /dev/null
		then
			echo " ******************************************************* "
			read -p " < Would You Like To Write The Outputs Files? [y/n] > " W2F
			if [ $W2F == "y" ]
			then
				clear
				nmap -sS -sV -A -vvv $TARGET -oN ~/Recon/nmapscan.txt
			fi
			else if [ $W2F == "n" ]
			then
			clear
				nmap -sS -sV -A -vvv $TARGET
			fi
		fi

	if [ $RCHOICE == 3 ]
	then
		if ping -c1 $TARGET | grep "64" > /dev/null
			then
				echo " ******************************************************* "
				read -p " < Would You Like To Write The Outputs Files? [y/n] > " W2F			
				if [ $W2F == "y" ]
				then
					clear			
					nmap -sS -sV -A -vvv $TARGET -oN ~/Recon/nmapscan.txt
					if cat ~/Recon/nmapscan.txt | grep Windows
					then
						echo -e " ${PURPLE}**************************************"
						echo		" * Scanning The Windows Environment...*"
						echo		" *	   Please Be Patient	       *"
						echo		" **************************************"
						echo		" *     Collecting Information...      *"
						echo		" **************************************"			
						enum4linux $TARGET > ~/Recon/enum4linux.txt
						echo -e " ${GREEN}**************************************"
						echo		" *          Scan Complete :)          *"
						echo		" **************************************"
					fi
					if cat ~/Recon/nmapscan.txt | grep 80/tcp
					then
						echo	""
						echo -e " ${PURPLE}****************************************"
						echo		" * Performing A Web Directory Bruteforce *"
						echo		" *	     Please Be Patient	          *"
						echo		" *****************************************"
						echo	""
						dirb http://$TARGET -o ~/Recon/dirbscan.txt
						echo -e " ${GREEN}*****************************************"
						echo		" *    Directory Bruteforce Complete :)   *"
						echo		" *****************************************"	
	
					fi
					if cat ~/Recon/nmapscan.txt | grep 21/tcp
					then
						nmap --script=ftp-anon -vvv $TARGET -oN ~/Recon/ftpanon.txt
					fi
					echo -e " ${PURPLE}**************************************"
					echo		" *    Scanning For Possible CVEs...   *"
					echo		" *	   Please Be Patient	       *"
					echo		" **************************************"
					nmap --script=vuln -vvv $TARGET
					echo -e " ${GREEN}**************************************"
					echo		" *          Scan Complete :)          *"
					echo		" **************************************"
				fi
				else if [ $W2F == "n" ]
				then	
					clear			
					nmap -sS -sV -A -vvv $TARGET 
					if cat ~/Recon/nmapscan.txt | grep Windows
					then
						enum4linux $TARGET 
					fi
					else if cat ~/Recon/nmapscan.txt | grep 80/tcp
					then
						dirb http://$TARGET 	
	
					fi
					else if cat ~/Recon/nmapscan.txt | grep 21/tcp
					then
						nmap --script=ftp-anon -vvv $TARGET
					fi
					nmap --script=vuln -vvv $TARGET
				fi
		fi
	fi	
	done

fi

if [ CHOICE == 2 ]
then

	echo

fi

if [ CHOICE == 3 ]
then

	echo

fi

done
